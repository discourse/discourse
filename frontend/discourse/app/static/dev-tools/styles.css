/**
  This CSS file is loaded dynamically when loadDevTools() is run in the console.
  It is not part of our normal CSS build process, so SCSS variables are not available.
  Native CSS nesting can be used safely, because developers who use this tool are expected to have modern browsers.
*/
.plugin-outlet-info {
  --plugin-outlet-info-border-color: #080;
  --plugin-outlet-info-background-color: #0c0;

  margin: 1px;
  border: 1px solid var(--plugin-outlet-info-border-color);
  display: inline-block;

  background-color: var(--plugin-outlet-info-background-color);
  color: white;

  text-align: center;
  font-size: 14px !important;
  font-weight: normal;
  padding: 1px 5px;
  display: inline-flex;
  align-items: center;

  .d-icon {
    color: white !important;
    font-size: 14px !important;
    width: 14px !important;
  }

  &.--wrapper {
    --plugin-outlet-info-border-color: #00c;
    --plugin-outlet-info-background-color: #88f;
  }
}

.plugin-outlet-info__wrapper {
  display: flex;
  flex-direction: column;
}

.plugin-outlet-info__heading {
  font-size: 14px;
  font-weight: bold;
  margin-bottom: 10px;

  display: flex;
  gap: 5px;

  .title {
    flex-grow: 1;
  }

  .github-link {
    color: var(--primary-medium);
  }
}

.plugin-outlet-info__content {
  display: grid;
  grid-template-columns: min-content 1fr;
  font-size: 14px;
  grid-gap: 10px;
  min-width: 300px;
  max-width: 100%;
  width: 100%;
  overflow: hidden;

  & > div {
    min-width: 0;
  }

  .fw {
    font-family:
      "Courier New", "Courier", "Lucida Console", "Monaco", monospace;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    background: var(--primary-very-low);
  }

  .value {
    display: flex;
    gap: 5px;
  }

  .no-arguments {
    grid-column: span 2;
  }

  a {
    color: var(--primary-medium);
  }
}

.dev-tools-toolbar {
  position: fixed;
  z-index: 999999;

  display: flex;
  flex-direction: column;

  background-color: var(--primary-low);
  border-radius: 0px 5px 5px 0px;

  button {
    background: none;
    border: none;
    padding: 5px;
    color: var(--primary-medium);

    &:hover:not(.gripper) {
      background-color: var(--primary-very-low);
    }

    &.gripper {
      cursor: grab;
      padding-bottom: 0;
      padding-top: 0;
      color: var(--primary-400);
    }

    &.--active {
      color: var(--success);
    }
  }
}

/* Block Debug Overlay - warm amber/orange tones (distinct from plugin outlets which use green/blue) */
.block-debug-info {
  position: relative;
  border: 2px solid #d97706;
  margin: 2px;

  &.--rendered {
    border-color: #d97706;
  }
}

.block-debug-badge {
  position: absolute;
  top: 0;
  left: 0;
  z-index: 1000;

  display: inline-flex;
  align-items: center;
  gap: 4px;

  background: #d97706;
  color: white;
  padding: 2px 6px;
  font-size: 11px;
  font-weight: bold;
  border-radius: 0 0 4px 0;
  cursor: pointer;

  .d-icon {
    color: white !important;
    font-size: 11px !important;
    width: 11px !important;
  }

  &:hover {
    background: #b45309;
  }
}

/* Ghost blocks - red for hidden/failed conditions */
.block-debug-ghost {
  position: relative;
  border: 2px dashed #dc2626;
  background: repeating-linear-gradient(
    45deg,
    transparent,
    transparent 10px,
    rgba(220, 38, 38, 0.05) 10px,
    rgba(220, 38, 38, 0.05) 20px
  );
  padding: 8px;
  margin: 2px;
  min-height: 30px;
}

.block-debug-ghost__badge {
  display: inline-flex;
  align-items: center;
  gap: 4px;

  color: #dc2626;
  font-size: 11px;
  font-style: italic;
  cursor: pointer;

  .d-icon {
    color: #dc2626 !important;
    font-size: 11px !important;
  }
}

.block-debug-ghost__status {
  opacity: 0.7;
}

/* Block Outlet boundaries - yellow/gold */
.block-outlet-debug {
  position: relative;
  border: 2px dashed #f59e0b;
  margin: 2px;
  padding: 4px;
  min-height: 20px;
}

.block-outlet-debug__badge {
  position: absolute;
  top: -1px;
  left: -1px;
  background: #f59e0b;
  color: white;
  padding: 1px 4px;
  font-size: 10px;
  font-weight: bold;
  border-radius: 0 0 4px 0;
}

/* Block Debug Tooltip */
.block-debug-tooltip {
  display: flex;
  flex-direction: column;
  gap: 12px;
  font-size: 13px;
  min-width: 280px;
  max-width: 450px;

  &.--ghost {
    .block-debug-tooltip__header {
      color: #f44336;
    }
  }
}

.block-debug-tooltip__header {
  display: flex;
  align-items: center;
  gap: 6px;
  font-weight: bold;
  color: #d97706;

  &.--failed {
    color: #dc2626;
  }

  .d-icon {
    font-size: 14px !important;
  }
}

.block-debug-tooltip__title {
  font-size: 14px;
}

.block-debug-tooltip__outlet {
  font-weight: normal;
  font-size: 11px;
  opacity: 0.7;
}

.block-debug-tooltip__status {
  font-size: 10px;
  padding: 1px 4px;
  background: #dc2626;
  color: white;
  border-radius: 2px;
}

.block-debug-tooltip__section {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.block-debug-tooltip__section-title {
  font-size: 11px;
  font-weight: bold;
  text-transform: uppercase;
  opacity: 0.6;
}

.block-debug-tooltip__empty {
  font-style: italic;
  opacity: 0.6;
}

.block-debug-tooltip__hint {
  font-size: 11px;
  font-style: italic;
  opacity: 0.7;
  border-top: 1px solid var(--primary-low);
  padding-top: 8px;
}

/* Block Debug Args Table */
.block-debug-args {
  display: flex;
  flex-direction: column;
  gap: 4px;

  &.--empty {
    font-style: italic;
    opacity: 0.6;
  }
}

.block-debug-args__row {
  display: flex;
  gap: 8px;
  padding: 2px 4px;
  border-radius: 2px;
  cursor: pointer;
  background: none;
  border: none;
  width: 100%;
  text-align: left;
  font: inherit;
  color: inherit;

  &:hover {
    background: var(--primary-very-low);
  }
}

.block-debug-args__key {
  font-weight: bold;
  color: #2196f3;
  white-space: nowrap;
}

.block-debug-args__value {
  font-family: "Courier New", monospace;
  font-size: 12px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  flex: 1;
}

.block-debug-args__type {
  font-size: 10px;
  opacity: 0.5;
  margin-right: 4px;
}

/* Block Debug Conditions Tree */
.block-debug-conditions {
  display: flex;
  flex-direction: column;
  gap: 2px;
  font-family: "Courier New", monospace;
  font-size: 12px;

  &.--passed {
    .block-debug-condition__type {
      color: #d97706;
    }
  }

  &.--failed {
    .block-debug-condition__type {
      color: #dc2626;
    }
  }
}

.block-debug-condition {
  display: flex;
  align-items: center;
  gap: 4px;

  &.--combinator {
    .block-debug-condition__type {
      font-weight: bold;
    }
  }
}

.block-debug-condition__type {
  &.--combinator {
    color: #607d8b;
  }
}

.block-debug-condition__args {
  opacity: 0.7;
  font-size: 11px;
}

/* Block Debug Menu (for dropdown button) */
.block-debug-menu {
  display: flex;
  flex-direction: column;
  gap: 8px;
  padding: 8px;
  min-width: 160px;

  label {
    display: flex;
    align-items: center;
    gap: 8px;
    cursor: pointer;
    font-size: 13px;

    &:hover {
      color: var(--primary);
    }

    input[type="checkbox"] {
      margin: 0;
    }
  }
}
