<DModalBody @title="chat.create_channel.title">
  <div class="create-channel-control">
    <label for="channel-name" class="create-channel-label">
      {{i18n "chat.create_channel.name"}}
    </label>
    <Input
      name="channel-name"
      class="create-channel-name-input"
      @type="text"
      @value={{this.name}}
      {{on "input" (action "onNameChange" value="target.value")}}
    />
  </div>

  <div class="create-channel-control">
    <label for="channel-slug" class="create-channel-label">
      {{i18n "chat.create_channel.slug"}}&nbsp;
      <span>
        {{d-icon "info-circle"}}
        <DTooltip>{{i18n
            "chat.channel_edit_name_slug_modal.slug_description"
          }}</DTooltip>
      </span>
    </label>
    <Input
      name="channel-slug"
      class="create-channel-slug-input"
      @type="text"
      @value={{this.slug}}
      placeholder={{this.autoGeneratedSlug}}
    />
  </div>

  <div class="create-channel-control">
    <label for="channel-description" class="create-channel-label">
      {{i18n "chat.create_channel.description"}}
    </label>
    <Input
      name="channel-description"
      class="create-channel-description-input"
      @type="textarea"
      @value={{this.description}}
    />
  </div>

  <div class="create-channel-control">
    <label class="create-channel-label">
      {{i18n "chat.create_channel.choose_category.label"}}
    </label>
    <CategoryChooser
      @value={{this.categoryId}}
      @onChange={{action "onCategoryChange"}}
      @options={{hash none="chat.create_channel.choose_category.none"}}
    />

    {{#if this.categoryPermissionsHint}}
      <div
        class={{concat-class
          "create-channel-hint"
          (if this.loadingPermissionHint "loading-permissions")
        }}
      >
        {{this.categoryPermissionsHint}}
      </div>
    {{/if}}
  </div>

  {{#if this.autoJoinAvailable}}
    <div class="create-channel-control">
      <label class="create-channel-label">
        <Input @type="checkbox" @checked={{this.autoJoinUsers}} />
        <div class="auto-join-channel">
          <span class="auto-join-channel__label">
            {{i18n "chat.settings.auto_join_users_label"}}
          </span>
          <p class="auto-join-channel__description">
            {{#if this.categoryName}}
              {{i18n
                "chat.settings.auto_join_users_info"
                category=this.categoryName
              }}
            {{else}}
              {{i18n "chat.settings.auto_join_users_info_no_category"}}
            {{/if}}
          </p>
        </div>
      </label>
    </div>
  {{/if}}
</DModalBody>

<div class="modal-footer">
  <DButton
    @class="btn-primary create"
    @action={{action "create"}}
    @label="chat.create_channel.create"
    @disabled={{this.createDisabled}}
  />
</div>