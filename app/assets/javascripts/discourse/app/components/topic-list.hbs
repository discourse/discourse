<caption class="sr-only">{{i18n "sr_topic_list_caption"}}</caption>

<thead class="topic-list-header">
  {{raw
    "topic-list-header"
    canBulkSelect=this.canBulkSelect
    toggleInTitle=this.toggleInTitle
    hideCategory=this.hideCategory
    showPosters=this.showPosters
    showLikes=this.showLikes
    showOpLikes=this.showOpLikes
    order=this.order
    changeSort=this.changeSort
    ascending=this.ascending
    sortable=this.sortable
    listTitle=this.listTitle
    bulkSelectEnabled=this.bulkSelectEnabled
    bulkSelectHelper=this.bulkSelectHelper
    changeNewListSubset=this.changeNewListSubset
    canDoBulkActions=this.canDoBulkActions
    showTopicsAndRepliesToggle=this.showTopicsAndRepliesToggle
    newListSubset=this.newListSubset
    newRepliesCount=this.newRepliesCount
    newTopicsCount=this.newTopicsCount
  }}
</thead>

<PluginOutlet
  @name="before-topic-list-body"
  @outletArgs={{hash
    topics=this.topics
    selected=this.selected
    bulkSelectEnabled=this.bulkSelectEnabled
    lastVisitedTopic=this.lastVisitedTopic
    discoveryList=this.discoveryList
    hideCategory=this.hideCategory
  }}
/>

<tbody class="topic-list-body">
  {{#each this.filteredTopics as |topic index|}}
    <TopicListItem
      @topic={{topic}}
      @bulkSelectEnabled={{this.bulkSelectEnabled}}
      @showTopicPostBadges={{this.showTopicPostBadges}}
      @hideCategory={{this.hideCategory}}
      @showPosters={{this.showPosters}}
      @showLikes={{this.showLikes}}
      @showOpLikes={{this.showOpLikes}}
      @expandGloballyPinned={{this.expandGloballyPinned}}
      @expandAllPinned={{this.expandAllPinned}}
      @lastVisitedTopic={{this.lastVisitedTopic}}
      @bulkSelectHelper={{this.bulkSelectHelper}}
      @tagsForUser={{this.tagsForUser}}
      @focusLastVisitedTopic={{this.focusLastVisitedTopic}}
      @index={{index}}
    />
    {{raw
      "list/visited-line"
      lastVisitedTopic=this.lastVisitedTopic
      topic=topic
    }}
    <PluginOutlet
      @name="after-topic-list-item"
      @outletArgs={{hash topic=topic index=index}}
      @connectorTagName="tr"
    />
  {{/each}}
</tbody>

<PluginOutlet
  @name="after-topic-list-body"
  @outletArgs={{hash
    topics=this.topics
    selected=this.selected
    bulkSelectEnabled=this.bulkSelectEnabled
    lastVisitedTopic=this.lastVisitedTopic
    discoveryList=this.discoveryList
    hideCategory=this.hideCategory
  }}
/>